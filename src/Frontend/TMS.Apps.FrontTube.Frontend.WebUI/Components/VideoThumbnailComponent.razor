@inherits VideoThumbnailComponentBase

<MudCard Class="video-thumbnail-card" Elevation="0" Style="@CardStyle">
    <div class="video-thumbnail-container" id="@ThumbnailContainerId">
        <MudSkeleton SkeletonType="SkeletonType.Rectangle" 
                     Width="100%" 
                     Height="180px" 
                     Animation="Animation.Wave" 
                     Class="thumbnail-skeleton" />
        <img src="@ThumbnailUrl" 
             alt="@Video?.Title" 
             class="video-thumbnail-image"
             loading="lazy" />
    </div>
    
    @if (Video is not null && Video.Duration.TotalSeconds > 0)
    {
        <div class="video-duration">@FormattedDuration</div>
    }
    
    @if (Video?.IsLive == true)
    {
        <MudChip T="string" Size="Size.Small" Color="Color.Error" Class="live-badge">LIVE</MudChip>
    }
    else if (Video?.IsUpcoming == true)
    {
        <MudChip T="string" Size="Size.Small" Color="Color.Info" Class="upcoming-badge">UPCOMING</MudChip>
    }

    <MudCardContent Class="video-content pa-2">
        <MudText Typo="Typo.body2" Class="video-title" title="@Video?.Title">
            @Video?.Title
        </MudText>
        
        @if (ShowChannelName && Video?.Channel is not null)
        {
            <span @onclick:stopPropagation="true">
                <MudLink Typo="Typo.caption" 
                         Color="Color.Secondary" 
                         Class="channel-name"
                         Href="@ChannelUrl"
                         @onclick="OnChannelClick">
                    @Video.Channel.Name
                </MudLink>
            </span>
        }
        
        <div class="video-metadata">
            @if (!string.IsNullOrWhiteSpace(Video?.ViewCountText))
            {
                <MudText Typo="Typo.caption" Color="Color.Secondary">
                    @Video.ViewCountText
                </MudText>
            }
            
            @if (!string.IsNullOrWhiteSpace(Video?.PublishedTimeText))
            {
                <MudText Typo="Typo.caption" Color="Color.Secondary">
                    â€¢ @Video.PublishedTimeText
                </MudText>
            }
        </div>
    </MudCardContent>
</MudCard>
